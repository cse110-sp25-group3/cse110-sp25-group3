<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: functions/score-heuristic.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: functions/score-heuristic.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// score-heuristic.js
import { skillAssessment } from './skill-assessment.js';
/**
 * Compute a composite score for a job based on:
 *  - location match   (0 or 1)
 *  - skill match       (0–100)
 *  - work model match  (0 or 1)
 *  - nature match      (0 or 1)
 *  - role match       (0 or 1)
 * This is diffrent from skillAssessment function in skill-assessment.js
 * That function focused purely on matching skills
 * This one contains the heuristic for "how exactly this job fits the user"
 *
 * @param {Object} job
 * @param {string[]} job.relevantSkills
 * @param {string} job.workModel
 * @param {string} job.nature
 * @param {string} job.location
 * @param {string} job.role
 *
 * @param {Object} prefs
 * @param {string[]} prefs.userSkills
 * @param {string[]} prefs.workModels
 * @param {string[]} prefs.natures
 * @param {string[]} prefs.locations
 * @param {string[]} prefs.roles
 *
 * @returns {number} 0–100 composite score
 */
export function computeJobScore(job, prefs) {
	// Skill match
	const skillScore = skillAssessment(prefs.userSkills, job.relevantSkills);

	// location match
	let locationScore;
	if (prefs.locations.length === 0){
		// if no preference, treat as full match
		locationScore = 1;
	} else if (prefs.locations.includes(job.location)) {
		locationScore = 1;
	} else {
		locationScore = 0;
	}

	// workmodel match
	let workModelScore;
	if (prefs.workModels.length === 0) {
		// if no preference, treat as full match
		workModelScore = 1;
	} else if (prefs.workModels.includes(job.workModel)) {
		workModelScore = 1;
	} else {
		workModelScore = 0;
	}

	// nature match
	let natureScore;
	if (prefs.natures.length === 0) {
		natureScore = 1;
	} else if (prefs.natures.includes(job.nature)) {
		natureScore = 1;
	} else {
		natureScore = 0;
	}

	// role match
	let roleScore;
	if (prefs.roles.length === 0){
		roleScore = 1;
	} else if (prefs.roles.includes(job.role)) {
		roleScore = 1;
	} else {
		roleScore = 0;
	}

	// Combine with weights
	const WEIGHTS = {
		location: 0.4,
		skill: 0.2,
		workModel: 0.3,
		nature: 0.05,
		role: 0.05
	};

	const composite =
		locationScore * 100 * WEIGHTS.location +
		skillScore * WEIGHTS.skill +
		workModelScore * 100 * WEIGHTS.workModel +
		natureScore * 100 * WEIGHTS.nature +
		roleScore * 100 * WEIGHTS.role;

	// should return an int between 0-100
	return Math.round(composite);
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AppCard.html">AppCard</a></li></ul><h3>Global</h3><ul><li><a href="global.html#computeJobScore">computeJobScore</a></li><li><a href="global.html#datePostedScore">datePostedScore</a></li><li><a href="global.html#fetchJobs">fetchJobs</a></li><li><a href="global.html#getColumnValues">getColumnValues</a></li><li><a href="global.html#getUniqueValues">getUniqueValues</a></li><li><a href="global.html#parsePay">parsePay</a></li><li><a href="global.html#payScore">payScore</a></li><li><a href="global.html#runFeedAlgorithm">runFeedAlgorithm</a></li><li><a href="global.html#sanitizeSalary">sanitizeSalary</a></li><li><a href="global.html#skillAssessment">skillAssessment</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
